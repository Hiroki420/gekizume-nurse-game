:root{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;line-height:1.5;font-weight:400;color-scheme:dark;color:#e5e7eb;background-color:#020617;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}*,*:before,*:after{box-sizing:border-box}body{margin:0;min-width:320px;min-height:100vh;background:radial-gradient(circle at 0 0,rgba(59,130,246,.22),transparent 55%),radial-gradient(circle at 100% 100%,rgba(236,72,153,.18),transparent 50%),#020617;display:flex;align-items:stretch;justify-content:center}#root{width:100%;display:flex;align-items:stretch;justify-content:center}a{color:inherit;text-decoration:none}button{font-family:inherit}.app-root{width:100%;max-width:960px;margin:0 auto;padding:1.5rem;box-sizing:border-box}.screen{background:linear-gradient(135deg,#fef3f2,#fce7f3,#f3e8ff);border-radius:20px;border:2px solid rgba(251,191,36,.2);box-shadow:0 8px 32px #0000001a;padding:1.5rem;color:#1f2937;min-height:540px;display:flex;flex-direction:column;gap:1rem}.screen-heading{margin:0 0 .5rem;font-size:1.6rem;color:#111827}.screen-subtitle{margin:0 0 1rem;color:#4b5563;font-size:.9rem}.top-bar{display:flex;align-items:center;justify-content:space-between;gap:1rem}.screen-title{font-weight:600;font-size:1.1rem;color:#111827}.title-screen{align-items:center;justify-content:center;text-align:center}.title-logo{font-size:2.1rem;font-weight:700;letter-spacing:.08em;margin-bottom:1.5rem;color:#111827}.title-buttons{display:flex;flex-direction:column;gap:.75rem;width:220px}.text-link-button{margin-top:1rem;background:none;border:none;padding:0;color:#7c3aed;font-size:.85rem;cursor:pointer;text-decoration:underline;text-underline-offset:3px}.text-link-button:hover{color:#6d28d9}.primary-button,.secondary-button,.choice-button,.month-cell{border-radius:999px;border:1px solid transparent;padding:.8rem 1.4rem;font-size:.95rem;font-weight:600;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;cursor:pointer;transition:background-color .18s ease,border-color .18s ease,transform .05s ease}.primary-button{background:linear-gradient(135deg,#fb7185,#f472b6);color:#fff;box-shadow:0 4px 12px #fb71854d}.primary-button:hover{background:linear-gradient(135deg,#f43f5e,#ec4899);transform:translateY(-2px);box-shadow:0 6px 16px #fb718566}.secondary-button{background:#ffffffe6;border-color:#d1d5db99;color:#374151;box-shadow:0 2px 8px #00000014}.secondary-button:hover{border-color:#fbbf2499;background:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #0000001f}.stats-bar{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:.75rem}.stat-item{display:flex;flex-direction:column;gap:.25rem}.stat-label-row{display:flex;justify-content:space-between;font-size:.8rem;color:#374151}.stat-label{letter-spacing:.04em;font-weight:600}.stat-value{font-variant-numeric:tabular-nums;font-weight:700}.stat-bar-bg{width:100%;height:6px;border-radius:999px;background:#e5e7eb;overflow:hidden}.stat-bar-fill{height:100%;border-radius:999px}.novel-stage{position:relative;width:100%;height:400px;border-radius:20px;overflow:hidden;box-shadow:0 4px 20px #00000026;flex-shrink:0}.intro-stage{height:320px}.novel-background{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#fef3f2,#fce7f3,#f3e8ff);display:flex;align-items:flex-end;padding:1rem}.novel-background:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,#ffffff0d,#00000026);pointer-events:none}.novel-background .background-label{padding:.4rem 1rem;border-radius:20px;background:#0000008c;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-size:.85rem;color:#fff;font-weight:500;z-index:2}.novel-character{position:absolute;right:0;bottom:0;width:50%;height:100%;display:flex;align-items:flex-end;justify-content:center;z-index:1}.novel-character-image{max-width:100%;max-height:100%;height:auto;width:auto;object-fit:contain;object-position:bottom right;filter:drop-shadow(0 8px 16px rgba(0,0,0,.4))}.composite-character{position:relative;width:100%;height:100%;display:flex;align-items:flex-end;justify-content:center}.composite-body{max-height:100%;width:auto;object-fit:contain;filter:drop-shadow(0 8px 16px rgba(0,0,0,.4))}.composite-face{position:absolute;bottom:64%;left:54%;transform:translate(-50%);width:30%;aspect-ratio:1 / 1;border-radius:50%;object-fit:cover;box-shadow:0 0 0 3px #fff,0 4px 12px #00000073}.character-image-fallback{width:120px;height:180px;border-radius:12px;border:2px dashed rgba(209,213,219,.6);background:#fffc;display:flex;align-items:center;justify-content:center;color:#9ca3af;font-size:.75rem;text-align:center;padding:1rem}.rpg-text-box{background:#fffffff2;border:2px solid rgba(209,213,219,.4);border-radius:16px;padding:1.2rem 1.5rem;min-height:100px;box-shadow:0 4px 16px #00000014;position:relative;cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;flex-direction:column;justify-content:center}.rpg-speaker{font-size:.8rem;font-weight:700;margin-bottom:.5rem;padding:.15rem .75rem;border-radius:8px;display:inline-block;align-self:flex-start}.speaker-char{color:#e11d48;background:#e11d4814}.speaker-you{color:#2563eb;background:#2563eb14}.rpg-text{font-size:1.05rem;line-height:1.9}.rpg-text-narration{color:#1f2937}.rpg-text-dialogue{color:#111827;font-weight:500}.rpg-text-monologue{color:#7c3aed;font-style:italic}.rpg-indicator{position:absolute;bottom:.7rem;right:1.2rem;color:#d1d5db;font-size:.7rem;animation:rpg-blink 1.2s ease-in-out infinite}@keyframes rpg-blink{0%,to{opacity:1}50%{opacity:.15}}.choices{display:flex;flex-direction:column;gap:.5rem}.choice-button{width:100%;text-align:left;background:#fffffff2;border-color:#d1d5db80;color:#1f2937;border-radius:16px;padding-inline:1.5rem;box-shadow:0 2px 8px #0000000f;font-weight:600}.choice-button:hover{background:#fff;border-color:#f472b6;transform:translateY(-2px);box-shadow:0 4px 16px #f472b626}.bottom-bar{display:flex;justify-content:flex-end}.screen-footer{display:flex;justify-content:flex-end;gap:.5rem;margin-top:auto}.modal-backdrop{position:fixed;inset:0;background:#0006;display:flex;align-items:center;justify-content:center;z-index:40}.modal{width:min(640px,100% - 2rem);max-height:min(460px,100% - 4rem);background:#fff;border-radius:20px;border:2px solid rgba(209,213,219,.4);padding:1rem 1.25rem;display:flex;flex-direction:column;gap:.75rem;color:#1f2937;box-shadow:0 8px 32px #00000026}.modal-header{display:flex;justify-content:space-between;align-items:center}.modal-header h2{color:#111827}.modal-body{flex:1;overflow-y:auto;padding-right:.25rem}.log-empty{color:#6b7280;font-size:.9rem}.log-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:.35rem}.log-entry{display:grid;grid-template-columns:auto 1fr;gap:.4rem;font-size:.85rem}.log-speaker{color:#6b7280;min-width:3.5rem;font-weight:600}.log-text{color:#1f2937}.notice-screen .notice-body{flex:1;border-radius:16px;background:#ffffffd9;padding:1.2rem;font-size:.95rem;line-height:1.7;color:#1f2937;box-shadow:0 2px 8px #0000000f}.notice-screen .notice-body p{margin:0 0 .5rem}.month-select-screen .month-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:.75rem}.month-cell{border-radius:16px;padding-block:.7rem;background:#ffffffe6;border-color:#d1d5db99;color:#1f2937;flex-direction:column;display:flex;align-items:flex-start;gap:.15rem;box-shadow:0 2px 8px #0000000f}.month-cell-unlocked:hover{background:#fff;border-color:#f472b6;transform:translateY(-2px);box-shadow:0 4px 12px #f472b626}.month-cell-locked{opacity:.45;cursor:default}.month-label-row{display:flex;align-items:center;gap:.35rem}.month-label{font-weight:700;color:#111827}.month-status{font-size:.78rem;color:#6b7280;font-weight:500}.month-cell-rare{border-color:#fbbf24;box-shadow:0 0 0 1px #facc1566,0 4px 14px #facc1559;background:radial-gradient(circle at top left,rgba(251,191,36,.18),transparent 55%),#fffffff2}.month-cell-rare.month-cell-unlocked:hover{border-color:#f59e0b;box-shadow:0 0 0 1px #f59e0b80,0 6px 16px #f59e0b66}.month-rare-badge{font-size:.7rem;padding:.1rem .5rem;border-radius:999px;background:linear-gradient(135deg,#fbbf24,#f97316);color:#111827;font-weight:700;letter-spacing:.12em}.episode-intro-body,.month-end-body{flex:1;border-radius:16px;background:#ffffffd9;padding:1.2rem;font-size:.98rem;line-height:1.85;color:#1f2937;box-shadow:0 2px 8px #0000000f}@keyframes shake-light{0%{transform:translate(0)}25%{transform:translate(-3px)}50%{transform:translate(3px)}75%{transform:translate(-2px)}to{transform:translate(0)}}@keyframes shake-heavy{0%{transform:translate(0)}20%{transform:translate(-7px)}40%{transform:translate(7px)}60%{transform:translate(-5px)}80%{transform:translate(5px)}to{transform:translate(0)}}.shake-light{animation:shake-light .22s ease-in-out}.shake-heavy{animation:shake-heavy .32s ease-in-out}@media(max-width:768px){.app-root{padding:.75rem}.screen{padding:1rem;min-height:auto}.stats-bar{grid-template-columns:repeat(2,minmax(0,1fr))}.month-select-screen .month-grid{grid-template-columns:repeat(3,minmax(0,1fr))}.novel-stage{height:280px}.intro-stage{height:220px}.rpg-text-box{min-height:80px;padding:1rem}.rpg-text{font-size:.95rem}}
